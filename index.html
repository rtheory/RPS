<!DOCTYPE html>
<html>
<head>
  <title>Page Title</title>
</head>
<body>
  <script>
    function computerPlay(){
      let choices = ["rock", "paper", "scissors"];
      let rand = Math.random() * choices.length;
      rand = Math.floor(rand);
      return choices[rand];
    }

    function playRound(playerSelection, computerSelection){
      playerSelection = playerSelection.toLowerCase();
      
      if (playerSelection === computerSelection) {
        return "It's a tie! Try again";
      } 
      if ((playerSelection === "paper" && computerSelection === "rock") || (playerSelection === "scissors" && computerSelection === "paper") || (playerSelection === "rock" && computerSelection === "scissors")){
        return `You Win! ${playerSelection} beats ${computerSelection}`;
      } else {
        return `You Lose! ${computerSelection} beats ${playerSelection}`;
      }
    }

    function getSelections(){
      const playerSelection = prompt("Rock, Paper, or Scissors?");
      const computerSelection = computerPlay();
      return [playerSelection, computerSelection];
    }

    function game(rounds = 5){
      let playerScore = 0, computerScore = 0;

      // Play (loop) the number of rounds specified
      for (let round = 0; round < rounds; round++){
        // Get selections from player and computer
        let selections = getSelections();

        // Play and get result
        let result = playRound(selections[0], selections[1]);

        // Keep trying again if there was a tie
        while (result.includes("tie")) {
          console.log(result);
          let selections = getSelections();
          result = playRound(selections[0], selections[1]);
        } 
        
        // Increment scores based on result
        result.includes("Win") ? playerScore++ : computerScore++;

        // Print results of the round with newline
        console.log(result);
        console.log(`SCORES:  Player ${playerScore} : Computer ${computerScore}`)
        console.log('')
      }
      
      // Print results of the game
      playerScore > computerScore ? console.log("You win!") : console.log("You lose :(")
    }

    game();
  </script>
</body>
</html>
